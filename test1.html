<html>

<head>

</head>

<body bgcolor="#000000">

<p><button onClick="window.location.reload();">Refresh</button>
</p>

  <iframe class="frame" src="" style="width:600px; height: 371px" frameborder=0></iframe>
  
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script>

var cat1 = [
"https://lichess.org/study/embed/zi7k3Rgo/pHdmJfy6",
"https://lichess.org/study/embed/zi7k3Rgo/aReHB653",
"https://lichess.org/study/embed/zi7k3Rgo/kJS3fQsN",
"https://lichess.org/study/embed/zi7k3Rgo/NkGuBWbp",
"https://lichess.org/study/embed/zi7k3Rgo/ybosAPLr",
"https://lichess.org/study/embed/zi7k3Rgo/QCeN1hgq",
"https://lichess.org/study/embed/zi7k3Rgo/KlSnVwjr",
"https://lichess.org/study/embed/zi7k3Rgo/H6BgduX5",
"https://lichess.org/study/embed/zi7k3Rgo/X9kpy3D4",
"https://lichess.org/study/embed/zi7k3Rgo/ATkE8BP8",
"https://lichess.org/study/embed/zi7k3Rgo/6DvULn1Q",
];
    
/*
import urllib.request
urllib.request.urlretrieve("https://lichess.org/study/zi7k3Rgo.pgn" , "temp.pgn")
with open( "temp.pgn" ) as f:
	c = f.readlines()	
for u in [l.split('"')[1].replace('/study/','/study/embed/') for l in c if 'Site' in l]:
	print( '"'+u+'",' )
  */

var cat2 = [
    "blue",
    "blue2",
    "blue3",
    "blue-marble",
    "canvas",
    "wood",
    "wood2",
    "wood3",
    "wood4",
    "maple",
    "maple2",
    "brown",
    "leather",
    "green",
    "marble",
    "green-plastic",
    "grey",
    "metal",
    "olive",
    "newspaper",
    "purple",
    "purple-diag",
    "pink",
    "ic",
    "horsey",
];

var cat3 = [
    "cburnett",
    "merida",
    "alpha",
    "pirouetti",
    "chessnut",
    "chess7",
    "reillycraig",
    "companion",
    "riohacha",
    "kosal",
    "leipzig",
    "fantasy",
    "spatial",
    "california",
    "pixel",
    "maestro",
    "fresca",
    "cardinal",
    "gioco",
    "tatiana",
    "staunty",
    "governor",
    "dubrovny",
    "icpieces",
    "shapes",
    "letter",
    "horsey",
    "anarcandy",
];


//blue, blue2, blue3, blue-marble, canvas, wood, wood2, wood3, wood4, maple, maple2, brown, leather, green, marble, green-plastic, grey, metal, olive, newspaper, purple, purple-diag, pink, ic, horsey
//cburnett, merida, alpha, pirouetti, chessnut, chess7, reillycraig, companion, riohacha, kosal, leipzig, fantasy, spatial, california, pixel, maestro, fresca, cardinal, gioco, tatiana, staunty, governor, dubrovny, icpieces, shapes, letter, horsey, anarcandy

var myFrame = document.getElementsByClassName("frame")[0];

function getRandomUrl(myFrame) {
  var index1 = Math.floor(Math.random() * cat1.length);
  var index2 = Math.floor(Math.random() * cat2.length);
  var index3 = Math.floor(Math.random() * cat3.length);

  var url = cat1[index1]+"?theme="+cat2[index2]+"&pieceSet="+cat3[index3]+"&bg=dark";
  myFrame.src = url;
}

function codeAddress() {
  getRandomUrl(myFrame);
}

codeAddress();

console.log(myFrame.src);


  </script>
  <script type="text/javascript">
    codeAddress();
  </script>
</body>

</html>
